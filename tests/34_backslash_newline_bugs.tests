# Backslash-newline handling in various contexts
# In bash, \<newline> is line continuation and should be removed

=== backslash-newline in double quotes
echo "hello \
world"
---
(command (word "echo") (word "\"hello world\""))
---


=== backslash-newline in double quotes mid-word
echo "a\
b\
c"
---
(command (word "echo") (word "\"abc\""))
---


=== backslash-newline in parameter expansion default
echo ${x:-hello \
world}
---
(command (word "echo") (word "${x:-hello world}"))
---


=== backslash-newline in parameter expansion substitution
echo ${x/foo \
bar/baz}
---
(command (word "echo") (word "${x/foo bar/baz}"))
---


# Note: Line continuation does NOT span comments or blank lines in bash.
# These become separate commands.

=== line continuation across comment
echo a \
# this comment should be skipped
b
---
(command (word "echo") (word "a"))
(command (word "b"))
---


=== line continuation across multiple comments
echo a \
# comment 1
# comment 2
b
---
(command (word "echo") (word "a"))
(command (word "b"))
---


=== line continuation across blank line
echo a \

b
---
(command (word "echo") (word "a"))
(command (word "b"))
---


=== line continuation across comment and blank line
echo a \
# comment

b
---
(command (word "echo") (word "a"))
(command (word "b"))
---
